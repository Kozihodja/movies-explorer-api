(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(19),i=a.n(c),o=a(4),r=a(9),l=a(2),m=a(3),j=a(21),u=a(0),h=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return Object(u.jsx)(m.b,{children:function(){return a.loggedIn?Object(u.jsx)(t,Object(r.a)({},a)):Object(u.jsx)(m.a,{to:"./"})}})},d=a.p+"static/media/landing.be7abc86.svg";var b=function(){return Object(u.jsx)("a",{href:"#aboutProject",className:"navtab hover",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})};var _=function(){return Object(u.jsx)("section",{className:"promo",children:Object(u.jsxs)("div",{className:"promo__description",children:[Object(u.jsxs)("div",{className:"promo__text",children:[Object(u.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(u.jsx)("p",{className:"promo__subtitle",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."}),Object(u.jsx)(b,{})]}),Object(u.jsx)("img",{src:d,className:"promo__img",alt:"\u041f\u0440\u043e\u043c\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})]})})};var p=function(){return Object(u.jsxs)("section",{className:"about-project",id:"about-project",children:[Object(u.jsx)("h2",{className:"about-project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsxs)("div",{className:"about-project__descriptionBox",children:[Object(u.jsx)("p",{className:"about-project__subTitle",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(u.jsx)("p",{className:"about-project__subTitle about-project__sub-title_time",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(u.jsx)("p",{className:"about-project__description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(u.jsx)("p",{className:"about-project__description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(u.jsxs)("div",{className:"about-project__time",children:[Object(u.jsx)("p",{className:"about-project__timeItem1",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(u.jsx)("p",{className:"about-project__timeItem3",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(u.jsx)("p",{className:"about-project__timeItem2",children:"Back-end"}),Object(u.jsx)("p",{className:"about-project__timeItem2",children:"Front-ent"})]})]})};var O=function(){return Object(u.jsxs)("section",{className:"about-project techs",children:[Object(u.jsx)("h2",{className:"about-project__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsx)("p",{className:"techs__title",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(u.jsx)("p",{className:"techs__descriptons",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(u.jsxs)("ul",{className:"techs__list",children:[Object(u.jsx)("li",{className:"techs__listItem",children:"HTML"}),Object(u.jsx)("li",{className:"techs__listItem",children:"CSS"}),Object(u.jsx)("li",{className:"techs__listItem",children:"JS"}),Object(u.jsx)("li",{className:"techs__listItem",children:"React"}),Object(u.jsx)("li",{className:"techs__listItem",children:"Git"}),Object(u.jsx)("li",{className:"techs__listItem",children:"Express.js"}),Object(u.jsx)("li",{className:"techs__listItem",children:"mongoDB"})]})]})},v=a.p+"static/media/profilePhoto.1b639b5a.png";var g=function(){return Object(u.jsxs)("section",{className:"about-project about-me",children:[Object(u.jsx)("h2",{className:"about-project__title",children:"C\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(u.jsxs)("div",{className:"about-me__info-box",children:[Object(u.jsxs)("div",{className:"about-me__brief",children:[Object(u.jsx)("p",{className:"about-me__name",children:"\u0412\u0438\u0442\u0430\u043b\u0438\u0439"}),Object(u.jsx)("p",{className:"about-me__job",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"}),Object(u.jsx)("p",{className:"about-me__info",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(u.jsxs)("ul",{className:"about-me__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/",className:"about-me__link",children:"Facebook"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#/",className:"about-me__link",children:"GitHub"})})]})]}),Object(u.jsx)("img",{src:v,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0412\u0438\u0442\u0430\u043b\u0438\u044f",className:"about-me__img"})]})]})},x=a.p+"static/media/link.093d837f.svg";var f=function(){return Object(u.jsxs)("section",{className:"portfolio",children:[Object(u.jsx)("p",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("ul",{className:"portfolio__lists",children:[Object(u.jsxs)("li",{className:"portfolio__item",children:[Object(u.jsx)("a",{href:"https://github.com/Kozihodja/russian-travel",target:"blank",className:"portfolio__project-name",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(u.jsx)("a",{href:"https://github.com/Kozihodja/russian-travel",target:"blank",children:Object(u.jsx)("img",{src:x,className:"portfolio__link-Img",alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]}),Object(u.jsxs)("li",{className:"portfolio__item",children:[Object(u.jsx)("a",{href:"https://github.com/Kozihodja/russian-travel",target:"blank",className:"portfolio__project-name",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(u.jsx)("a",{href:"https://github.com/Kozihodja/russian-travel",target:"blank",children:Object(u.jsx)("img",{src:x,className:"portfolio__link-Img",alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]}),Object(u.jsxs)("li",{className:"portfolio__item",children:[Object(u.jsx)("a",{href:"https://github.com/Kozihodja/react-mesto-auth",target:"blank",className:"portfolio__project-name",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(u.jsx)("a",{href:"https://github.com/Kozihodja/react-mesto-auth",target:"blank",children:Object(u.jsx)("img",{src:x,className:"portfolio__link-Img",alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})})]})]})]})},N=a.p+"static/media/logo.c425d485.svg",k=a.p+"static/media/account.c9897d14.svg";var S=function(){var e=Object(m.g)();return Object(u.jsxs)("section",{className:"header__hidden-nav",children:[Object(u.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),e.push("/")},children:Object(u.jsx)("img",{src:N,className:"header__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsxs)("div",{className:"header__menu header__menu_logined",children:[Object(u.jsx)(o.b,{to:"/movies",className:"header__link header__link_logined hover",activeClassName:"active__navLink",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/saved-movies",className:"header__link header__link_logined hover",activeClassName:"active__navLink",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(u.jsxs)(o.b,{to:"/profile",className:"header__link header__link_logined header__account hover",activeClassName:"active__profileLink",children:[Object(u.jsx)("p",{className:"header__account-link",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(u.jsx)("img",{src:k,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",className:"header__account-icon"})]})]})},C=a.p+"static/media/nav.fe889bf9.svg";var I=function(e){var t=Object(m.g)();function a(e){e.preventDefault(),t.push("/")}return Object(u.jsx)(u.Fragment,{children:e.loggedIn?Object(u.jsx)("header",{className:"header header__loggedin",children:y(e,a)}):Object(u.jsx)("header",{className:"header header__out",children:L(a)})})};function L(e){return Object(u.jsxs)("section",{className:"header__nav",children:[Object(u.jsx)("a",{href:"/",onClick:e,children:Object(u.jsx)("img",{src:N,className:"header__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsxs)("nav",{className:"header__menu header__menu_out",children:[Object(u.jsx)(o.b,{to:"/signon",className:"header__link header__link_signon hover",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)(o.b,{exact:!0,to:"/signin",className:"header__link header__link-signin hover ",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}function y(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(S,{}),Object(u.jsxs)("section",{className:"header__hidden",children:[Object(u.jsx)("a",{href:"/",onClick:t,children:Object(u.jsx)("img",{src:N,className:"header__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsx)("button",{className:"header__hidden-btn",onClick:e.onNavIconClick,children:Object(u.jsx)("img",{src:C,alt:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u043d\u044e",className:"header__hidden-icon hover"})})]})]})}var E=function(){return Object(u.jsxs)("section",{className:"footer",children:[Object(u.jsx)("p",{className:"footer__description",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(u.jsxs)("div",{className:"footer__navBar",children:[Object(u.jsx)("p",{className:"footer__year",children:"\xa9 2020"}),Object(u.jsxs)("ul",{className:"footer__links",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"https://praktikum.yandex.ru/profile/web/",className:"footer__link",target:"blank",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"https://github.com/Kozihodja/",className:"footer__link",target:"blank",children:"GitHub"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"https://www.facebook.com/",className:"footer__link",target:"blank",children:"Facebook"})})]})]})]})};var M=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{loggedIn:e.loggedIn,onNavIconClick:e.onNavIconClick,onHomeClick:e.onHomeClick}),Object(u.jsx)(_,{}),Object(u.jsx)(p,{}),Object(u.jsx)(O,{}),Object(u.jsx)(g,{}),Object(u.jsx)(f,{}),Object(u.jsx)(E,{})]})},w=a.p+"static/media/search.99b6633d.svg",F=a.p+"static/media/searchSubmit.bd527758.svg";var D=function(e){var t=Object(m.h)(),a=Object(s.useRef)();return Object(u.jsxs)("div",{className:"search-box",children:[Object(u.jsxs)("form",{className:"search-form",onSubmit:function(s){s.preventDefault(),"/movies"===t.pathname?(localStorage.setItem("userReq",a.current.value),e.onSearch()):"/saved-movies"===t.pathname&&(localStorage.setItem("userSearchReqSavedMovies",a.current.value),e.onSearch())},children:[Object(u.jsx)("img",{src:w,className:"search-form__img",alt:"\u041b\u0443\u043f\u0430"}),Object(u.jsx)("input",{ref:a,type:"text",required:!0,placeholder:"/movies"===t.pathname?"\u0420\u0430\u043d\u0435\u0435 \u0438\u043a\u0430\u043b\u0438: ".concat(localStorage.getItem("userReq")):"\u0420\u0430\u043d\u0435\u0435 \u0438\u043a\u0430\u043b\u0438: ".concat(localStorage.getItem("userSearchReqSavedMovies")),name:"name",className:"search-form__input"}),Object(u.jsx)("button",{type:"submit",className:"search-form__submit hover",children:Object(u.jsx)("img",{src:F,className:"search-form__submitImg",alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})}),Object(u.jsx)("span",{className:"search-form__vl"}),Object(u.jsxs)("span",{className:"search-form__checkbox-box",onClick:e.onShortMoviesClick,children:[Object(u.jsx)("input",{type:"checkbox",name:"name",className:"search-form__checkbox"}),Object(u.jsx)("p",{className:"search-form__checkbox-name",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(u.jsx)("hr",{className:"search-form__gl"})]})};var B=function(e){return Object(u.jsx)("svg",{width:"14",height:"12",viewBox:"0 0 21 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.isSaved?"movie__like-icon movie__like-icon_liked":"movie__like-icon",children:Object(u.jsx)("path",{d:"M18.8005 1.95849L18.8023 1.96024C20.7437 3.88233 20.7462 7.03905 18.8005 8.98466L10.361 17.4238L1.94628 9.00951C1.94569 9.00892 1.94511 9.00832 1.94453 9.00772C1.0188 8.06185 0.5 6.81051 0.5 5.48217C0.5 4.14855 1.00122 2.89987 1.94265 1.95849L1.94266 1.95849L1.94441 1.95672C3.86629 0.0157068 7.02186 0.0131363 8.96748 1.97793L8.96922 1.97967L10.0074 3.01784L10.3646 3.37496L10.7181 3.01425L11.7545 1.95673C13.6994 0.0138381 16.8563 0.014425 18.8005 1.95849Z",stroke:e.movie.isSaved?"stroke":"black"})})};var P=function(){return Object(u.jsx)("svg",{className:"movie-card__del-icon",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fillule:"evenodd",clipRule:"evenodd",d:"M5.06077 3.8822L7.30003 1.64294L6.23937 0.582275L4.00011 2.82154L1.76097 0.582391L0.700309 1.64305L2.93945 3.8822L0.58252 6.23913L1.64318 7.29979L4.00011 4.94286L6.35716 7.29991L7.41782 6.23925L5.06077 3.8822Z",fill:"black"})})};var U=function(e){var t,a,s=Object(m.h)().pathname,n="",c=!1,i="";if(e.movie.duration>59?n="".concat(Math.floor(e.movie.duration/60),"\u0447 ").concat(e.movie.duration%60,"\u043c"):e.movie.duration<=59&&(n="".concat(e.movie.duration," \u043c")),"/movies"===s){if(null!==JSON.parse(localStorage.getItem("savedMovies"))){t=e.baseUrl+e.movie.image.url,a=e.movie.trailerLink;var o=JSON.parse(localStorage.getItem("savedMovies")).find((function(t){return t.movieId===e.movie.id}));o&&(c=!0,i=o._id)}}else"/saved-movies"===s&&(a=e.movie.trailer,t=e.movie.thumbnail);return Object(u.jsxs)("li",{className:"movie-card",children:[Object(u.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{src:t,alt:e.movie.name,className:"movie-card__img"})}),Object(u.jsxs)("span",{className:"movie-card__info",children:[Object(u.jsx)("p",{className:"movie-card__name",children:e.movie.nameRU}),Object(u.jsx)("button",{onClick:function(){"/movies"===s?c?e.onDelIconClick(i):e.onSaveIconClick(e.movie):"/saved-movies"===s&&e.onDelIconClick(e.movie._id)},type:"button",className:"movie-card__like-button hover","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",children:"/movies"===s?Object(u.jsx)(B,{movie:e.movie,isSaved:c}):Object(u.jsx)(P,{})})]}),Object(u.jsx)("p",{className:"movie-card__duration",children:n})]})};var q=function(e){var t=e.count,a=e.movies,n=Object(s.useState)(0),c=Object(l.a)(n,2),i=c[0],o=c[1];return Object(s.useEffect)((function(){!function(){var e=window.innerWidth;e>1280?(t.setCountMovies(12),o(3)):e>644?(t.setCountMovies(8),o(2)):e<644&&(t.setCountMovies(5),o(2))}()}),[]),Object(u.jsx)(u.Fragment,{children:e.isSearchErr?Object(u.jsx)("p",{className:"movie-card-list",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}):Object(u.jsxs)(u.Fragment,{children:[a.length?Object(u.jsx)("ul",{className:"movie-card-list",children:a.slice(0,t.countMovies).map((function(t,a){return Object(u.jsx)(U,{movie:t,onSaveIconClick:e.onSaveIconClick,baseUrl:"https://api.nomoreparties.co",onDelIconClick:e.onDelIconClick},a)}))}):Object(u.jsx)("p",{className:"movie-card-list",children:"\u041d\u0438 \u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(u.jsx)("section",{className:"movies__still",children:t.countMovies<a.length?Object(u.jsx)("button",{onClick:function(){t.setCountMovies(t.countMovies+i)},className:"movies__button",children:Object(u.jsx)("p",{className:"movies__still-text",children:"\u0415\u0449\u0451"})}):null})]})})};var J=function(e){return Object(u.jsx)("div",{className:"preloader ".concat(e.isLoad?"preloader_open":""),children:Object(u.jsx)("div",{className:"preloader__circle"})})};var R=function(e){var t=n.a.useState(0),a=Object(l.a)(t,2),s=a[0],c=a[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{loggedIn:e.loggedIn,onNavIconClick:e.onNavIconClick}),Object(u.jsx)(D,{onSearch:e.onSearch,onShortMoviesClick:e.onShortMoviesClick}),Object(u.jsx)(J,{isLoad:e.isLoad}),Object(u.jsx)(q,{movies:e.movies,isSearchErr:e.isSearchErr,onSubmitMoreBtn:e.onSubmitMoreBtn,count:{countMovies:s,setCountMovies:c},onSaveIconClick:e.onSaveIconClick,onDelIconClick:e.onDelIconClick}),Object(u.jsx)(E,{})]})};var T=function(){var e=Object(m.g)();return Object(u.jsxs)("div",{className:"page-not-found",children:[Object(u.jsx)("p",{className:"page-not-found__code",children:"404"}),Object(u.jsx)("p",{className:"page-not-found__err",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(u.jsx)("button",{className:"page-not-found__backBtn hover",onClick:function(){return e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var z=function(e){var t=e.savedMovies;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{loggedIn:e.loggedIn,onNavIconClick:e.onNavIconClick}),Object(u.jsx)(D,{onSearch:e.onSearch}),Object(u.jsx)(J,{isLoad:!1}),Object(u.jsx)("ul",{className:"movie-card-list",children:t.map((function(t){return Object(u.jsx)(U,{movie:t,onDelIconClick:e.onDelIconClick},t._id)}))}),Object(u.jsx)("section",{className:"movies__still"}),Object(u.jsx)(E,{})]})};var V=function(e){var t=e.user;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(I,{loggedIn:e.loggedIn,onNavIconClick:e.onNavIconClick}),Object(u.jsxs)("section",{className:"profile",children:[Object(u.jsxs)("p",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(u.jsxs)("ul",{className:"profile__data",children:[Object(u.jsxs)("li",{className:"profile__table-row",children:[Object(u.jsx)("p",{className:"profile__placeholder",children:"\u0418\u043c\u044f"}),Object(u.jsx)("p",{className:"profile__info",children:t.name})]}),Object(u.jsxs)("li",{className:"profile__table-row",children:[Object(u.jsx)("p",{className:"profile__placeholder",children:"E-mail"}),Object(u.jsx)("p",{className:"profile__info",children:t.email})]})]}),Object(u.jsxs)("ul",{className:"profile__buttons-list",children:[Object(u.jsx)("li",{children:Object(u.jsx)("button",{className:"profile__button hover",onClick:e.onEditProfileClick,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),e.onExitClick()},className:"profile__button profile__button_out hover",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})})]})]})]})};function G(e,t){var a=n.a.useState(e),c=Object(l.a)(a,2),i=c[0],o=c[1],m=n.a.useState(!1),j=Object(l.a)(m,2),u=j[0],h=j[1],d=n.a.useState(!1),b=Object(l.a)(d,2),_=b[0],p=b[1],O=function(e,t){var a=Object(s.useState)(!0),n=Object(l.a)(a,2),c=n[0],i=n[1],o=Object(s.useState)(!0),r=Object(l.a)(o,2),m=r[0],j=r[1],u=Object(s.useState)(!0),h=Object(l.a)(u,2),d=h[0],b=h[1],_=Object(s.useState)(!0),p=Object(l.a)(_,2),O=p[0],v=p[1],g=Object(s.useState)(!0),x=Object(l.a)(g,2),f=x[0],N=x[1],k=Object(s.useState)(!0),S=Object(l.a)(k,2),C=S[0],I=S[1],L=Object(s.useState)(!1),y=Object(l.a)(L,2),E=y[0],M=y[1];return Object(s.useEffect)((function(){for(var a in t)switch(a){case"minLength":e.length<t[a]?j(!0):j(!1);break;case"maxLength":e.length>t[a]?b(!0):b(!1);break;case"isEmpty":i(!e);break;case"isEmail":/^((([0-9A-Za-z]{1}[\x2D\.0-9A-z]+[0-9A-Za-z]{1})|([0-9\u0410-\u044F]{1}[\x2D\.0-9\u0410-\u044F]+[0-9\u0410-\u044F]{1}))@([\x2DA-Za-z]+\.){1,2}[\x2DA-Za-z]{2,})$/.test(e)?v(!1):v(!0);break;case"isName":/^([a-z\-A-Z\u0430-\u044f\u0410-\u042f\s]{2,40})/gim.test(e)?N(!1):N(!0);break;case"isPassword":/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/g.test(e)?I(!1):I(!0)}}),[e,t]),Object(s.useEffect)((function(){M(!(c||m&&d||O&&f&&C))}),[c,d,m,C,O,f]),{isEmpty:c,minLengthErr:m,maxLengthErr:d,emailError:O,nameError:f,passwordError:C,inputValid:E}}(i,t);return Object(r.a)({value:i,onChange:function(e){o(e.target.value),p(!0)},isChanged:_,onBlur:function(e){h(!0)},isDirty:u},O)}var A=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("section",{className:"popup popup-".concat(e.name," ").concat(e.isOpen?"submitPopup_is-opened":""),tabIndex:"0",children:Object(u.jsxs)("div",{className:"popup__container",children:[Object(u.jsx)("button",{type:"button",className:"popup__close button-hover","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(u.jsx)("h3",{className:"popup__form-title",children:e.title}),Object(u.jsx)("button",{type:"submit",className:"form__submit","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:e.onSubmit,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{type:"submit",className:"form__submit submitPopup__btn_cancel","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:e.onClose,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})})})};var Z=function(e){var t=G("",{isEmpty:!0,minLength:6,maxLength:40,isEmail:!0}),a=G("",{isEmpty:!0,minLength:2,maxLength:40,isName:!0}),s=n.a.useState(""),c=Object(l.a)(s,2),i=c[0],o=c[1],r=n.a.useState(""),m=Object(l.a)(r,2),j=m[0],h=m[1],d=n.a.useState(!1),b=Object(l.a)(d,2),_=b[0],p=b[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{isLoad:e.isLoad}),Object(u.jsx)(A,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f?",name:"submitUpdateUserData",isOpen:_,onClose:function(){p(!1)},onSubmit:function(){p(!1),e.onUpdateUser({name:i,email:j})}}),Object(u.jsx)("section",{className:"popup popup-".concat(e.name," ").concat(e.isOpen?"popup_is-opened":""),tabIndex:"0",children:Object(u.jsxs)("div",{className:"popup__container",children:[Object(u.jsx)("button",{type:"button",className:"popup__close button-hover","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:e.onClose}),Object(u.jsx)("h3",{className:"popup__form-title",children:e.title}),Object(u.jsxs)("form",{className:"form form-".concat(e.name),name:"profile-".concat(e.name,"-form"),method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),p(!0)},children:[Object(u.jsx)("input",{type:"text",placeholder:e.user.name||"\u0418\u043c\u044f",name:"userName",onChange:function(e){o(e.target.value),a.onChange(e)},id:"name-input",className:"form__input form__input_name form__input_type_focus",required:!0,minLength:"2",maxLength:"40",onBlur:function(e){return a.onBlur(e)}}),a.isDirty&&a.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),a.isChanged&&(a.minLengthErr||a.maxLengthErr||a.nameError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441"}),Object(u.jsx)("span",{id:"name-input-error",className:"form__input-error"}),Object(u.jsx)("input",{type:"email",placeholder:e.user.email||"Email",onChange:function(e){h(e.target.value),t.onChange(e)},name:"userEmail",id:"email-input",className:"form__input form__input_email form__input_type_focus",required:!0,minLength:"6",maxLength:"40",onBlur:function(e){return t.onBlur(e)}}),t.isDirty&&t.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),t.isChanged&&(t.minLengthErr||t.maxLengthErr||t.emailError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"}),Object(u.jsx)("span",{id:"job-input-error",className:"form__input-error"}),e.user.email===j||e.user.name===i?Object(u.jsx)("p",{className:"error__mes",children:"\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f \u043e\u0442 \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0445"}):"",Object(u.jsx)("button",{type:"submit",className:a.inputValid&&t.inputValid&&e.user.email!==j&&e.user.name!==i?"form__submit":"form__submit form__submit_disabled","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:!(a.inputValid&&t.inputValid)||e.user.email===j||e.user.name===i,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})};var K=function(e){var t=Object(m.g)();return Object(u.jsxs)("section",{className:"logon",children:[Object(u.jsxs)("div",{className:"logon__header",children:[Object(u.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),t.push("/")},children:Object(u.jsx)("img",{src:N,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsx)("p",{className:"logon__title",children:"signin"===e.route?"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"})]}),Object(u.jsxs)("form",{className:"logon__form",onSubmit:function(t){t.preventDefault(),e.onSubmitForm()},children:[e.children,"signin"===e.route?Object(u.jsxs)("div",{className:"logon__submit-box",children:[e.isReqErr?Object(u.jsx)("p",{className:"error__mes",children:e.errMessage}):"",Object(u.jsx)("button",{className:e.isFormValid?"logon__sumbit hover":"logon__sumbit logon__sumbit_disabled",disabled:!e.isFormValid,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(u.jsxs)("p",{className:"logon__text",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(u.jsx)("a",{href:"/signon",className:"logon__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]}):Object(u.jsxs)("div",{className:"logon__submit-box",children:[e.isReqErr?Object(u.jsx)("p",{className:"error__mes",children:e.errMessage}):"",Object(u.jsx)("button",{className:e.isFormValid?"logon__sumbit hover":"logon__sumbit logon__sumbit_disabled",disabled:!e.isFormValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(u.jsxs)("p",{className:"logon__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(u.jsx)("a",{href:"/signin",className:"logon__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})};var H=function(e){var t=G("",{isEmpty:!0,minLength:6,maxLength:40,isEmail:!0}),a=G("",{isEmpty:!0,minLength:6,maxLength:12,isPassword:!0});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(K,{route:"signin",isFormValid:a.inputValid&&t.inputValid,onSubmitForm:function(){e.onSubmitForm(t.value,a.value)},errMessage:e.errMessage,isReqErr:e.isReqErr,children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"logon__input-placeholder",children:"Email"}),Object(u.jsx)("input",{value:t.value,type:"email",required:!0,name:"email",className:"logon__input",minLength:"6",maxLength:"40",autoComplete:"username",onChange:function(e){return t.onChange(e)},onBlur:function(e){return t.onBlur(e)}}),t.isDirty&&t.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),t.isChanged&&(t.minLengthErr||t.maxLengthErr||t.emailError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"logon__input-placeholder",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{value:a.value,type:"password",required:!0,name:"password",className:"logon__input",minLength:"6",maxLength:"40",autoComplete:"current-password",onChange:function(e){return a.onChange(e)},onBlur:function(e){return a.onBlur(e)}}),a.isDirty&&a.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),a.isChanged&&(a.minLengthErr||a.maxLengthErr||a.passwordError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043e\u0442 6 \u0434\u043e 20 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0438 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435 \u0430 \u0442\u0430\u043a \u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446 \u0441\u0438\u043c\u0432\u043e\u043b\u044b !@#$%^&*"})]})]}),Object(u.jsx)(J,{isLoad:e.isLoad})]})};var $=function(e){var t=G("",{isEmpty:!0,minLength:6,maxLength:40,isEmail:!0}),a=G("",{isEmpty:!0,minLength:2,maxLength:40,isName:!0}),s=G("",{isEmpty:!0,minLength:6,maxLength:12,isPassword:!0});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(K,{route:"signon",isFormValid:a.inputValid&&s.inputValid&&t.inputValid,onSubmitForm:function(){e.onSubmitForm(a.value,t.value,s.value)},errMessage:e.errMessage,isReqErr:e.isReqErr,children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"logon__input-placeholder",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{value:a.value,type:"text",required:!0,name:"name",className:"logon__input",minLength:"2",maxLength:"40",onChange:function(e){return a.onChange(e)},onBlur:function(e){return a.onBlur(e)}}),a.isDirty&&a.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),a.isChanged&&(a.minLengthErr||a.maxLengthErr||a.nameError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"logon__input-placeholder",children:"Email"}),Object(u.jsx)("input",{type:"email",value:t.value,required:!0,name:"email",className:"logon__input",minLength:"6",maxLength:"40",onChange:function(e){return t.onChange(e)},onBlur:function(e){return t.onBlur(e)}}),t.isDirty&&t.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),t.isChanged&&(t.minLengthErr||t.maxLengthErr||t.emailError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"logon__input-placeholder",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{value:s.value,type:"password",autoComplete:"on",required:!0,className:"logon__input",name:"password",minLength:"6",maxLength:"20",onChange:function(e){return s.onChange(e)},onBlur:function(e){return s.onBlur(e)}}),s.isDirty&&s.isEmpty&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"}),s.isChanged&&(s.minLengthErr||s.maxLengthErr||s.passwordError)&&Object(u.jsx)("p",{className:"error__mes",children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043e\u0442 6 \u0434\u043e 20 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0438 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435 \u0430 \u0442\u0430\u043a \u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446 \u0441\u0438\u043c\u0432\u043e\u043b\u044b !@#$%^&*"})]})]}),Object(u.jsx)(J,{isLoad:e.isLoad})]})};var W=function(e){return Object(u.jsx)("section",{className:"popup__nav ".concat(e.isOpen?"popup__nav_is-opened":""),children:Object(u.jsxs)("div",{className:"popup__nav-section",children:[Object(u.jsx)("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"popup-nav__close hover",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",onClick:e.onClose}),Object(u.jsxs)("div",{className:"popup-nav__menu",children:[Object(u.jsx)(o.b,{to:"/",className:"popup-nav__link hover",activeClassName:"active__popup-nav-link",exact:!0,onClick:e.onClose,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(u.jsx)(o.b,{to:"/movies",className:"popup-nav__link hover",activeClassName:"active__popup-nav-link",onClick:e.onClose,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(o.b,{to:"/saved-movies",className:"popup-nav__link hover",activeClassName:"active__popup-nav-link",onClick:e.onClose,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(u.jsxs)(o.b,{to:"/profile",className:"popup-nav__link header__account popup__account-link hover",activeClassName:"active__profile-link",onClick:e.onClose,children:[Object(u.jsx)("p",{className:"header__account-link",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(u.jsx)("img",{src:k,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",className:"header__account-icon"})]})]})})},Q=a(12),X=a(13),Y=new(function(){function e(t){var a=t.baseUrl,s=t.headers;Object(Q.a)(this,e),this._baseUrl=a,this._headers=s}return Object(X.a)(e,[{key:"_requestGet",value:function(e){return this._data=fetch(e,{mathod:"GET",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("".concat(t.status,". \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0434\u0435\u043b\u0430\u0442\u044c GET \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ").concat(e))})),this._data}},{key:"getInitialCards",value:function(){return this._requestGet("".concat(this._baseUrl))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies/"}),ee=new(function(){function e(t){var a=t.baseUrl,s=t.headers;Object(Q.a)(this,e),this._baseUrl=a,this._headers=s}return Object(X.a)(e,[{key:"_requestGet",value:function(e){return this._data=fetch(e,{mathod:"GET",headers:this._headers}).then((function(t){return t.ok?t:Promise.reject("".concat(t.status,". \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0434\u0435\u043b\u0430\u0442\u044c GET \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 ").concat(e))})),this._data}},{key:"register",value:function(e,t,a){return fetch("".concat(this._baseUrl,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,email:t,password:a})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"login",value:function(e,t){return fetch("".concat(this._baseUrl,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"checkToken",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"udateUserData",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"saveMovie",value:function(e){return fetch("".concat(this._baseUrl,"/movies"),{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),trailer:e.trailerLink,movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN,thumbnail:"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url)})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"getMovies",value:function(){return fetch("".concat(this._baseUrl,"/movies"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"deleteSavedMovie",value:function(e){return fetch("".concat(this._baseUrl,"/movies/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}}]),e}())({baseUrl:"https://api.dipback.nomoredomains.monster",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});var te=function(){var e=Object(m.g)(),t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],o=n.a.useState(!1),j=Object(l.a)(o,2),d=j[0],b=j[1],_=n.a.useState([]),p=Object(l.a)(_,2),O=p[0],v=p[1],g=n.a.useState([]),x=Object(l.a)(g,2),f=x[0],N=x[1],k=n.a.useState(!1),S=Object(l.a)(k,2),C=S[0],I=S[1],L=n.a.useState(!1),y=Object(l.a)(L,2),E=y[0],w=y[1],F=n.a.useState("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."),D=Object(l.a)(F,2),B=D[0],P=D[1],U=n.a.useState({name:"",email:""}),q=Object(l.a)(U,2),G=q[0],A=q[1],K=n.a.useState(!1),Q=Object(l.a)(K,2),X=Q[0],te=Q[1],ae=n.a.useState(!1),se=Object(l.a)(ae,2),ne=se[0],ce=se[1],ie=n.a.useState(!1),oe=Object(l.a)(ie,2),re=oe[0],le=oe[1];function me(){le(!0)}function je(){ce(!1),le(!1)}function ue(t,a){i(!0),Promise.all([ee.login(t,a)]).then((function(t){te(!0),localStorage.setItem("jwt",t[0].token),e.push("/movies")})).finally((function(){i(!1),w(!1),P("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...")})).catch((function(e){w(!0),console.log(e),401===e&&P("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}function he(e){i(!0),Promise.all([ee.deleteSavedMovie(e)]).then((function(e){ee.getMovies().then((function(e){N(e.movie),localStorage.setItem("savedMovies",JSON.stringify(e.movie)),v(JSON.parse(localStorage.getItem("movies")))})).catch((function(e){console.log(e)}))})).finally((function(){i(!1),w(!1),P("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...")})).catch((function(e){w(!0),console.log(e),401===e&&P("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}return Object(s.useEffect)((function(){localStorage.getItem("jwt")&&ee.checkToken(localStorage.getItem("jwt")).then((function(e){A(Object(r.a)(Object(r.a)({},G),{},{name:e.name,email:e.email})),te(!0)})).catch((function(t){te(!1),localStorage.clear(),e.push("/"),console.log(t)})),JSON.parse(localStorage.getItem("movies"))&&v(JSON.parse(localStorage.getItem("movies"))),JSON.parse(localStorage.getItem("savedMovies"))&&N(JSON.parse(localStorage.getItem("savedMovies")))}),[]),Object(s.useEffect)((function(){X&&null===localStorage.getItem("savedMovies")&&ee.getMovies().then((function(e){N(e.movie),localStorage.setItem("savedMovies",JSON.stringify(e.movie))})).catch((function(e){console.log(e)}))}),[X,f]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(m.d,{children:[Object(u.jsx)(m.b,{exact:!0,path:"/",children:Object(u.jsx)(M,{loggedIn:X,onNavIconClick:me})}),Object(u.jsx)(h,{exact:!0,path:"/movies",loggedIn:X,component:R,onNavIconClick:me,onSearch:function(){if(null===localStorage.getItem("allMovies"))i(!0),Promise.all([Y.getInitialCards()]).then((function(e){localStorage.setItem("allMovies",JSON.stringify(e[0]));var t=JSON.parse(localStorage.getItem("allMovies")).filter((function(e){return e.nameRU.toLowerCase().includes(localStorage.getItem("userReq").toLowerCase())&&(C?e.duration<40:" ")}));localStorage.setItem("movies",JSON.stringify(t)),v(t)})).finally((function(){i(!1)})).catch((function(e){b(!0)}));else{var e=JSON.parse(localStorage.getItem("allMovies")).filter((function(e){return e.nameRU.toLowerCase().includes(localStorage.getItem("userReq").toLowerCase())&&(C?e.duration<40:" ")}));localStorage.setItem("movies",JSON.stringify(e)),v(e)}},isLoad:c,isSearchErr:d,onShortMoviesClick:function(){I(!C)},onSaveIconClick:function(e){i(!0),Promise.all([ee.saveMovie(e)]).then((function(e){ee.getMovies().then((function(e){N(e.movie),localStorage.setItem("savedMovies",JSON.stringify(e.movie)),v(JSON.parse(localStorage.getItem("movies")))})).catch((function(e){console.log(e)}))})).finally((function(){i(!1),w(!1),P("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...")})).catch((function(e){w(!0),console.log(e),401===e&&P("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))},onDelIconClick:he,movies:O}),Object(u.jsx)(h,{exact:!0,path:"/saved-movies",loggedIn:X,component:z,onNavIconClick:me,onDelIconClick:he,savedMovies:f,onSearch:function(){if(null!==localStorage.getItem("savedMovies")){var e=JSON.parse(localStorage.getItem("savedMovies")).filter((function(e){return e.nameRU.toLowerCase().includes(localStorage.getItem("userSearchReqSavedMovies").toLowerCase())&&(C?e.duration<40:" ")}));N(e)}}}),Object(u.jsx)(h,{exact:!0,path:"/profile",loggedIn:X,component:V,onNavIconClick:me,user:G,onEditProfileClick:function(){ce(!0)},onExitClick:function(){localStorage.clear(),te(!1),e.push("/")},isLoad:c}),Object(u.jsx)(m.b,{path:"/signin",children:Object(u.jsx)(H,{onSubmitForm:ue,isLoad:c,errMessage:B,isReqErr:E})}),Object(u.jsx)(m.b,{path:"/signon",children:Object(u.jsx)($,{onSubmitForm:function(e,t,a){i(!0),Promise.all([ee.register(e,t,a)]).then((function(e){ue(t,a)})).finally((function(){i(!1),w(!1),P("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...")})).catch((function(e){400===e?P("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"):409===e&&P("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),w(!0)}))},isLoad:c,errMessage:B,isReqErr:E})}),Object(u.jsx)(m.b,{path:"*",children:Object(u.jsx)(T,{})})]}),Object(u.jsx)(W,{isOpen:re,onClose:je}),Object(u.jsx)(Z,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",user:G,isOpen:ne,onClose:je,onUpdateUser:function(e){i(!0),Promise.all([ee.udateUserData(e.name,e.email)]).then((function(e){A(Object(r.a)(Object(r.a)({},G),{},{name:e[0].user.name,email:e[0].user.email}))})).finally((function(){i(!1),w(!1),P("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...")})).catch((function(e){400===e&&P("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),w(!0)})),je()},isLoad:c}),Object(u.jsxs)(J,{children:["isLoad=",c]})]})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,34)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};a(32);i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(te,{})})}),document.getElementById("root")),ae()}},[[33,1,2]]]);
//# sourceMappingURL=main.be721965.chunk.js.map