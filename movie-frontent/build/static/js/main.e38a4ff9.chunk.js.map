{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","images/landing.svg","components/Main/NavTab/NavTab.js","components/Main/Promo/Promo.js","components/Main/AboutProject/AboutProject.js","components/Main/Techs/Techs.js","images/profilePhoto.png","components/Main/AboutMe/AboutMe.js","images/link.svg","components/Main/Portfolio/Portfolio.js","images/logo.svg","images/account.svg","components/Navigation/Navigation.js","images/nav.svg","components/Header/Header.js","components/Footer/Footer.js","components/Main/Main.js","images/search.svg","images/searchSubmit.svg","components/Movies/SearchForm/SearchForm.js","components/Movies/MoviesCard/SaveIcon/SaveIcon.js","components/Movies/MoviesCard/DelIcon/DelIcon.js","components/Movies/MoviesCard/MovieCard.js","components/Movies/MoviesCardList/MoviesCardList.js","components/Movies/Prelodaer/Preloader.js","components/Movies/Movies.js","components/PageNotFound/PageNotFound.js","components/SavedMovies/SavedMovies.js","components/Profile/Profile.js","utils/Validate.js","components/PopupWithForm/PopupWithForm.js","components/Logon/Logon.js","components/Login/Login.js","components/Register/Register.js","components/PopupNavigation/PopupNavigation.js","utils/MoviesApi.js","utils/MainApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","NavTab","href","className","Promo","src","promoImg","alt","AboutProject","id","Techs","AboutMe","profilePhoto","target","link","Navigaton","history","useHistory","onClick","e","preventDefault","push","logo","activeClassName","accLogo","Header","logoClick","navLinkUserLogined","navLink","exact","Navigation","onNavIconClick","hiddenHeaderIcon","Footer","Main","onHomeClick","Portfolio","SearchForm","location","useLocation","searchReq","useRef","onSubmit","pathname","localStorage","setItem","current","value","onSearch","magnifier","ref","type","required","placeholder","name","searchSubmit","onShortMoviesClick","SaveIcon","width","height","viewBox","fill","xmlns","isSaved","d","stroke","movie","DelIcon","fillule","clipRule","MovieCard","url","trailerLink","current_page","JSON","parse","getItem","baseUrl","image","result","find","object","movieId","trailer","thumbnail","rel","nameRU","onDelIconClick","onSaveIconClick","_id","aria-label","duration","MovieCardList","allSearchmovies","count","movies","useState","addMoreCards","setAddMoreCards","useEffect","display","window","innerWidth","setCountMovies","displayWidthCheck","isSearchErr","slice","countMovies","map","i","length","Preloader","isLoad","Movies","React","onSubmitMoreBtn","PageNotFound","goBack","SavedMovies","savedMovies","Profile","user","email","onEditProfileClick","onExitClick","useInput","val","validations","setValue","isDirty","setDirty","isChanged","setChanged","valid","isEmpty","setIsEmpty","minLengthErr","setMinLengthErr","maxLengthErr","setMaxLengthErr","emailError","setEmailError","nameError","setNameError","passwordError","setPasswordError","inputValid","setInputValid","validation","test","useValidation","onChange","onBlur","PopupWithForm","emailVal","minLength","maxLength","isEmail","nameVal","isName","setName","setEmail","isOpen","tabIndex","onClose","title","method","noValidate","onUpdateUser","disabled","Logon","route","onSubmitForm","children","isReqErr","errMessage","isFormValid","Login","password","isPassword","autoComplete","Register","PopupNavigation","api","headers","this","_baseUrl","_headers","_data","fetch","mathod","then","res","ok","json","Promise","reject","status","_requestGet","body","stringify","jwt","country","director","year","description","nameEN","formats","App","setIsLoad","setIsSearchErr","setMovies","setSavedMovies","isSearchShortMovies","setIsSearchShortMovies","setIsReqErr","setErrMassage","currentUser","setCurrentUser","setLoggedIn","isEditProfilePopupOpen","toggleEditProfilePopup","isNavPopupOpen","toggleNavPopup","handleNavIconClick","closeAllPopups","handleDeleteMovie","all","apiMain","deleteSavedMovie","getMovies","catch","err","console","log","finally","checkToken","clear","path","getInitialCards","response","filterReq","filter","toLowerCase","includes","saveMovie","login","token","register","data","udateUserData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e38a4ff9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n        <Route>\r\n    \t\t{() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./\" />\r\n      }\r\n\t\t</Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","export default __webpack_public_path__ + \"static/media/landing.be7abc86.svg\";","import React from \"react\";\r\n\r\n  \r\n  function NavTab() {\r\n  \r\n      return (\r\n        <a href='#aboutProject' className='navtab hover'>Узнать больше</a>\r\n      );\r\n    }\r\n    \r\n    export default NavTab;","import React from \"react\";\r\nimport promoImg from '../../../images/landing.svg';\r\nimport NavTab from '../NavTab/NavTab'\r\n\r\n  \r\n  function Promo() {\r\n  \r\n      return (\r\n        <section className='promo'>\r\n            <div className='promo__description'>\r\n                <div className='promo__text'>\r\n                    <h1 className='promo__title'>Учебный проект студента факультета Веб&#8209;разработки.</h1>\r\n                    <p className='promo__subtitle'>Листайте ниже, чтобы узнать больше про этот проект и его создателя.</p>\r\n                    <NavTab />\r\n                </div>\r\n                <img src={promoImg} className=\"promo__img\" alt=\"Промо изображение\" />\r\n            </div>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default Promo;","import React from \"react\";\r\n\r\n  \r\n  function AboutProject() {\r\n  \r\n      return (\r\n        <section className='about-project' id='about-project'>\r\n            <h2 className='about-project__title'>О проекте</h2>\r\n            <div className='about-project__descriptionBox'>\r\n                <p className='about-project__subTitle'>Дипломный проект включал 5 этапов</p>\r\n                <p className='about-project__subTitle about-project__sub-title_time'>На выполнение диплома ушло 5 недель</p>\r\n                <p className='about-project__description'>Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\r\n                <p className='about-project__description'>У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\r\n            </div>\r\n            <div className='about-project__time'>\r\n                <p className='about-project__timeItem1'>1 неделя</p>\r\n                <p className='about-project__timeItem3'>4 недели</p>\r\n                <p className='about-project__timeItem2'>Back-end</p>\r\n                <p className='about-project__timeItem2'>Front-ent</p>\r\n            </div>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default AboutProject;","import React from \"react\";\r\n\r\n  \r\n  function Techs() {\r\n  \r\n      return (\r\n        <section className='about-project techs'>\r\n            <h2 className='about-project__title'>Технологии</h2>\r\n            <p className=\"techs__title\">7 технологий</p>\r\n            <p className='techs__descriptons'>На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\r\n            <ul className='techs__list'>\r\n              <li className='techs__listItem'>HTML</li>\r\n              <li className='techs__listItem'>CSS</li>\r\n              <li className='techs__listItem'>JS</li>\r\n              <li className='techs__listItem'>React</li>\r\n              <li className='techs__listItem'>Git</li>\r\n              <li className='techs__listItem'>Express.js</li>\r\n              <li className='techs__listItem'>mongoDB</li>\r\n            </ul>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default Techs;","export default __webpack_public_path__ + \"static/media/profilePhoto.1b639b5a.png\";","import React from \"react\";\r\nimport profilePhoto from '../../../images/profilePhoto.png';\r\n  \r\n  function AboutMe() {\r\n  \r\n      return (\r\n        <section className='about-project about-me'>\r\n            <h2 className='about-project__title'>Cтудент</h2>\r\n            <div className='about-me__info-box'>\r\n                <div className='about-me__brief'>\r\n                    <p className='about-me__name'>Виталий</p>\r\n                    <p className='about-me__job'>Фронтенд-разработчик, 30 лет</p>\r\n                    <p className='about-me__info'>\r\n                    Я родился и живу в Саратове, закончил факультет экономики СГУ. У меня есть жена \r\nи дочь. Я люблю слушать музыку, а ещё увлекаюсь бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ Контур». После того, как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.\r\n                    </p>\r\n                    <ul className='about-me__links'>\r\n                        <li><a href='#/' className='about-me__link'>Facebook</a></li>\r\n                        <li><a href='#/' className='about-me__link'>GitHub</a></li>\r\n                    </ul>\r\n                </div>\r\n                <img src={profilePhoto} alt='Фотография Виталия' className='about-me__img' />\r\n            </div>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default AboutMe;","export default __webpack_public_path__ + \"static/media/link.093d837f.svg\";","import React from \"react\";\r\nimport link from '../../../images/link.svg';\r\n  \r\n  function AboutMe() {\r\n  \r\n      return (\r\n        <section className='portfolio'>\r\n            <p className='portfolio__title'>Портфолио</p>\r\n            <ul className='portfolio__lists'>\r\n                <li className='portfolio__item'>\r\n                    <a href='https://github.com/Kozihodja/russian-travel' target='blank' className='portfolio__project-name'>Статичный сайт</a>\r\n                    <a href='https://github.com/Kozihodja/russian-travel' target='blank'><img src={link} className='portfolio__link-Img' alt=\"Стрелка\" /></a>\r\n                </li>\r\n                <li className='portfolio__item'>\r\n                    <a href='https://github.com/Kozihodja/russian-travel' target='blank' className='portfolio__project-name'>Адаптивный сайт</a>\r\n                    <a href='https://github.com/Kozihodja/russian-travel' target='blank'><img src={link} className='portfolio__link-Img' alt=\"Стрелка\" /></a>\r\n                </li>\r\n                <li className='portfolio__item'>\r\n                    <a href='https://github.com/Kozihodja/react-mesto-auth' target='blank' className='portfolio__project-name'>Одностраничное приложение</a>\r\n                    <a href='https://github.com/Kozihodja/react-mesto-auth' target='blank'><img src={link} className='portfolio__link-Img' alt=\"Стрелка\" /></a>\r\n                </li>\r\n            </ul>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default AboutMe;","export default __webpack_public_path__ + \"static/media/logo.c425d485.svg\";","export default __webpack_public_path__ + \"static/media/account.c9897d14.svg\";","import React from \"react\";\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport logo from '../../images/logo.svg';\r\nimport accLogo from '../../images/account.svg';\r\n  \r\n  function Navigaton() {\r\n\r\n    const history = useHistory();\r\n  \r\n    function logoClick(e) {\r\n      e.preventDefault();\r\n      history.push('/')\r\n    }\r\n\r\n      return (\r\n        <section className='header__hidden-nav'>\r\n          <a href='/' onClick={logoClick}><img src={logo} className=\"header__logo\" alt=\"логотип\"/></a>\r\n          <div className=\"header__menu header__menu_logined\">\r\n            <NavLink to=\"/movies\" className=\"header__link header__link_logined hover\" activeClassName=\"active__navLink\">Фильмы</NavLink>\r\n            <NavLink to=\"/saved-movies\" className=\"header__link header__link_logined hover\" activeClassName=\"active__navLink\">Сохраненные фильмы</NavLink>\r\n          </div>\r\n          <NavLink to=\"/profile\" className=\"header__link header__link_logined header__account hover\" activeClassName=\"active__profileLink\">\r\n            <p className='header__account-link'>Аккаунт</p>\r\n            <img src={accLogo} alt='иконка аккаунта' className='header__account-icon'/>\r\n           </NavLink>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default Navigaton;","export default __webpack_public_path__ + \"static/media/nav.fe889bf9.svg\";","import React from \"react\";\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport Navigation from '../Navigation/Navigation'\r\nimport logo from '../../images/logo.svg';\r\nimport hiddenHeaderIcon from '../../images/nav.svg'\r\n\r\n  function Header(props) {\r\n\r\n    const history = useHistory();\r\n\r\n    function logoClick(e) {\r\n    e.preventDefault();\r\n    history.push('/')\r\n  }\r\n  \r\n      return (\r\n          <>\r\n              {props.loggedIn ? (\r\n                <header className=\"header header__loggedin\">\r\n                  {navLinkUserLogined(props, logoClick)}\r\n                </header>\r\n              ) : \r\n              (\r\n                <header className=\"header header__out\">\r\n                  {navLink(logoClick)}\r\n                </header>\r\n              )}\r\n          </>\r\n      );\r\n    }\r\n    \r\n    export default Header;\r\n\r\n  function navLink(logoClick) {\r\n\r\n      return (\r\n        <section className='header__nav'>\r\n          <a href='/' onClick={logoClick}><img src={logo} className=\"header__logo\" alt=\"логотип\"/></a>\r\n          <nav className=\"header__menu header__menu_out\">\r\n            <NavLink to=\"/signon\" className=\"header__link header__link_signon hover\">Регистрация</NavLink>\r\n            <NavLink exact to=\"/signin\" className=\"header__link header__link-signin hover \">Войти</NavLink>\r\n          </nav>\r\n        </section>\r\n      )\r\n    }\r\n  \r\n  function navLinkUserLogined(props, logoClick) {\r\n\r\n    return (\r\n      <>\r\n        <Navigation \r\n        />\r\n        <section className='header__hidden'>\r\n        <a href='/' onClick={logoClick}><img src={logo} className=\"header__logo\" alt=\"логотип\"/></a>\r\n          <button className='header__hidden-btn' onClick={props.onNavIconClick}>\r\n            <img src={hiddenHeaderIcon} alt='Показать меню' className='header__hidden-icon hover'/>\r\n          </button>\r\n        </section>\r\n      </>\r\n    )\r\n  }","import React from \"react\";\r\n  \r\n  function Footer() {\r\n  \r\n      return (\r\n        <section className='footer'>\r\n            <p className='footer__description'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n            <div className='footer__navBar'>\r\n                <p className='footer__year'>&#169; 2020</p>\r\n                <ul className='footer__links'>\r\n                    <li><a href='https://praktikum.yandex.ru/profile/web/' className='footer__link' target='blank'>Яндекс.Практикум</a></li>\r\n                    <li><a href='https://github.com/Kozihodja/' className='footer__link' target='blank'>GitHub</a></li>\r\n                    <li><a href='https://www.facebook.com/' className='footer__link' target='blank'>Facebook</a></li>\r\n                </ul>\r\n            </div>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default Footer;","import React from \"react\";\r\nimport Promo from './Promo/Promo';\r\nimport AboutProject from './AboutProject/AboutProject';\r\nimport Techs from './Techs/Techs';\r\nimport AboutMe from './AboutMe/AboutMe';\r\nimport Portfolio from './Portfolio/Portfolio';\r\nimport Header from \"../Header/Header\"\r\nimport Footer from \"../Footer/Footer\"\r\n  \r\n  function Main(props) {\r\n  \r\n      return (\r\n        <>\r\n          <Header \r\n            loggedIn = {props.loggedIn}\r\n            onNavIconClick={props.onNavIconClick}\r\n            onHomeClick = {props.onHomeClick}\r\n          />\r\n          <Promo />\r\n          <AboutProject />\r\n          <Techs />\r\n          <AboutMe />\r\n          <Portfolio />\r\n          <Footer />\r\n        </>\r\n      );\r\n    }\r\n    \r\n    export default Main;","export default __webpack_public_path__ + \"static/media/search.99b6633d.svg\";","export default __webpack_public_path__ + \"static/media/searchSubmit.bd527758.svg\";","import React, { useRef } from \"react\";\r\nimport { useLocation } from 'react-router-dom'\r\nimport magnifier from '../../../images/search.svg';\r\nimport searchSubmit from '../../../images/searchSubmit.svg';\r\n  \r\n  function SearchForm(props) {\r\n\r\n    const location = useLocation();\r\n\r\n    function search(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      if (location.pathname === '/movies') {\r\n        localStorage.setItem('userReq', (searchReq.current.value))\r\n        props.onSearch();\r\n      } else if (location.pathname === '/saved-movies') {\r\n        localStorage.setItem('userSearchReqSavedMovies', (searchReq.current.value))\r\n      }\r\n    }\r\n\r\n    let searchReq = useRef();\r\n  \r\n      return (\r\n        <div className='search-box' onSubmit={search}>\r\n            <form className='search-form'>\r\n                <img src={magnifier} className='search-form__img' alt=\"Лупа\" />\r\n                <input ref={searchReq} type=\"text\" required placeholder=\"Фильм\" name=\"name\" className='search-form__input'/>\r\n                \r\n                <button type=\"submit\" className='search-form__submit hover'>\r\n                    <img src={searchSubmit} className='search-form__submitImg' alt=\"Стрелка\" />\r\n                </button>\r\n                <span className='search-form__vl'></span>\r\n                <span className='search-form__checkbox-box' onClick={props.onShortMoviesClick}>\r\n                    <input type=\"checkbox\" name=\"name\" className='search-form__checkbox' />\r\n                    <p className='search-form__checkbox-name'>Короткометражки</p>\r\n                </span>\r\n            </form>\r\n            <hr className='search-form__gl'></hr>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    export default SearchForm;","import React from 'react'\r\n\r\nfunction SaveIcon(props) {\r\n\r\n    return (\r\n      <svg width=\"14\" height=\"12\" viewBox=\"0 0 21 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={props.isSaved ? 'movie__like-icon movie__like-icon_liked': 'movie__like-icon'}>\r\n        <path d=\"M18.8005 1.95849L18.8023 1.96024C20.7437 3.88233 20.7462 7.03905 18.8005 8.98466L10.361 17.4238L1.94628 9.00951C1.94569 9.00892 1.94511 9.00832 1.94453 9.00772C1.0188 8.06185 0.5 6.81051 0.5 5.48217C0.5 4.14855 1.00122 2.89987 1.94265 1.95849L1.94266 1.95849L1.94441 1.95672C3.86629 0.0157068 7.02186 0.0131363 8.96748 1.97793L8.96922 1.97967L10.0074 3.01784L10.3646 3.37496L10.7181 3.01425L11.7545 1.95673C13.6994 0.0138381 16.8563 0.014425 18.8005 1.95849Z\" stroke={props.movie.isSaved ? 'stroke' : 'black'}/>\r\n      </svg>\r\n    )\r\n  }\r\n\r\nexport default SaveIcon","import React from 'react'\r\n\r\nfunction DelIcon() {\r\n    return (\r\n      <svg className='movie-card__del-icon' width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path fillule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.06077 3.8822L7.30003 1.64294L6.23937 0.582275L4.00011 2.82154L1.76097 0.582391L0.700309 1.64305L2.93945 3.8822L0.58252 6.23913L1.64318 7.29979L4.00011 4.94286L6.35716 7.29991L7.41782 6.23925L5.06077 3.8822Z\" fill=\"black\"/>\r\n      </svg>\r\n    )\r\n  }\r\n\r\nexport default DelIcon","import React from \"react\";\r\nimport { useLocation } from 'react-router-dom'\r\nimport SaveIcon from './SaveIcon/SaveIcon'\r\nimport DelIcon from './DelIcon/DelIcon'\r\n\r\n  function MovieCard(props) {\r\n\r\n    // В зависимости от роута отрисовываются карточки и применяются те или иные функции\r\n    const location = useLocation();\r\n    const current_page = location.pathname;\r\n    // Переменная для управления состояния кнопки сохранить в роуте /movies\r\n    let isSaved;\r\n    let url;\r\n    let trailerLink;\r\n\r\n    if (current_page === '/movies') {\r\n      // Проверка содержит ли массив сохраненых фильмов текущий фильм(по ID)\r\n      if (JSON.parse(localStorage.getItem('savedMovies')) !==null) {\r\n      url = props.baseUrl + props.movie.image.url;\r\n      trailerLink = props.movie.trailerLink\r\n        const result = JSON.parse(localStorage.getItem('savedMovies')).find(function(object) {\r\n          return object.movieId === props.movie.id;\r\n        });\r\n        result ? isSaved = true: isSaved = false;\r\n      }\r\n    } else if (current_page === '/saved-movies') {\r\n      trailerLink = props.movie.trailer\r\n      url = props.movie.thumbnail;\r\n    }\r\n\r\n\r\n    // Функция управления кнопкой карточки\r\n    function onSaveIconClick() {\r\n      if (current_page === '/movies') {\r\n        if (isSaved) {\r\n          props.onDelIconClick(props.movie.id);\r\n        } else {\r\n          props.onSaveIconClick(props.movie);\r\n        }\r\n      } \r\n      else if (current_page === '/saved-movies') {\r\n        props.onDelIconClick(props.movie._id);\r\n      }\r\n    }\r\n      return (\r\n        <li className='movie-card'>\r\n          <a href={trailerLink} target=\"_blank\" rel='noreferrer'><img src={url} alt={props.movie.name} className='movie-card__img'/></a>\r\n          <span className='movie-card__info'>\r\n            <p className='movie-card__name'>{props.movie.nameRU}</p>\r\n            <button \r\n              onClick = {onSaveIconClick}\r\n              type=\"button\" \r\n              className=\"movie-card__like-button hover\" \r\n              aria-label=\"Сохранить или удалить фильм\"\r\n              >\r\n\t\t\t\t\t    {current_page === '/movies' ? \r\n                <SaveIcon \r\n                  movie = {props.movie}\r\n                  isSaved = {isSaved}\r\n                /> : <DelIcon/>}\r\n\t\t\t      </button>\r\n          </span>\r\n          <p className='movie-card__duration'>{props.movie.duration}</p>\r\n        </li>\r\n      );\r\n    }\r\n    \r\n    export default MovieCard;","import React, { useState, useEffect } from 'react';\r\nimport MoviesCard from '../MoviesCard/MovieCard';\r\n\r\n\r\n  function MovieCardList(props) {\r\n\r\n    const count = props.count;\r\n\r\n    let allSearchmovies;\r\n    \r\n    if (props.movies===null) {\r\n      allSearchmovies = [];\r\n    } else {\r\n      allSearchmovies = props.movies;\r\n    }\r\n\r\n    const [addMoreCards, setAddMoreCards] = useState(0);\r\n\r\n    const addMoreMovies = () => {\r\n        count.setCountMovies(count.countMovies + addMoreCards)\r\n    }\r\n    const displayWidthCheck = () => {\r\n        const display = window.innerWidth;\r\n\r\n        if (display > 1280) {\r\n            count.setCountMovies(12);\r\n            setAddMoreCards(3);\r\n        } else if (display > 644) {\r\n            count.setCountMovies(8);\r\n            setAddMoreCards(2);\r\n        } else if (display < 644) {\r\n            count.setCountMovies(5);\r\n            setAddMoreCards(2);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        displayWidthCheck();\r\n    // eslint-disable-next-line\r\n    }, []);\r\n\r\n      return (\r\n        <>\r\n              {props.isSearchErr ? (\r\n                <p className=\"movie-card-list\">\r\n                  Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз\r\n                </p>\r\n              ) : \r\n              (\r\n                <>\r\n                  <ul className=\"movie-card-list\">\r\n                    {allSearchmovies.slice(0, count.countMovies).map((movie, i) => (\r\n                      <MoviesCard \r\n                        key={i} \r\n                        movie={movie}\r\n                        onSaveIconClick = {props.onSaveIconClick}\r\n                        baseUrl = 'https://api.nomoreparties.co'\r\n                        onDelIconClick={props.onDelIconClick}\r\n                      >\r\n                      </MoviesCard>\t\r\n    \t\t\t          ))}\r\n    \t\t          </ul>\r\n                  <section className='movies__still'>\r\n                    {((count.countMovies < allSearchmovies.length)) ? (\r\n                      <button onClick={addMoreMovies} className='movies__button'>\r\n                        <p className='movies__still-text'>Ещё</p>\r\n                      </button>\r\n                    ) : null }                \r\n                  </section>\r\n                </>\r\n              )}\r\n        </>\r\n      );\r\n    }\r\n    \r\n    export default MovieCardList;","import React from 'react'\r\n\r\nfunction Preloader(props) {\r\n\r\n    return (\r\n        <div className={`preloader ${props.isLoad ? `preloader_open` : ''}`}>\r\n          <div className=\"preloader__circle\"> \r\n          </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader\r\n","import React from \"react\";\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport MovieCardList from './MoviesCardList/MoviesCardList'\r\nimport Preloader from \"./Prelodaer/Preloader\";\r\nimport Header from \"../Header/Header\"\r\nimport Footer from \"../Footer/Footer\"\r\n\r\n  function Movies(props) {\r\n\r\n    const [countMovies, setCountMovies] = React.useState(0);\r\n\r\n      return (\r\n        <>\r\n          <Header \r\n            loggedIn = {props.loggedIn}\r\n            onNavIconClick={props.onNavIconClick}\r\n          />\r\n          <SearchForm \r\n            onSearch = {props.onSearch}\r\n            onShortMoviesClick = {props.onShortMoviesClick}\r\n          />\r\n          <Preloader \r\n            isLoad = {props.isLoad}\r\n          />\r\n          <MovieCardList \r\n            movies = {props.movies}\r\n            isSearchErr = {props.isSearchErr}\r\n            onSubmitMoreBtn = {props.onSubmitMoreBtn}\r\n            count={{ countMovies, setCountMovies }}\r\n            onSaveIconClick = {props.onSaveIconClick}\r\n            onDelIconClick={props.onDelIconClick}\r\n          />\r\n          <Footer />\r\n        </>\r\n      );\r\n    }\r\n    \r\nexport default Movies;","import React from \"react\";\r\nimport { useHistory } from 'react-router-dom'; \r\n  \r\n  function PageNotFound() {\r\n  \r\n    const history = useHistory(); \r\n\r\n      return (\r\n        <>\r\n          <div className='page-not-found'>\r\n            <p className='page-not-found__code'>404</p>\r\n            <p className='page-not-found__err'>Страница не найдена</p>\r\n            <button className=\"page-not-found__backBtn hover\" onClick={() => history.goBack()}>Назад</button> \r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    \r\n    export default PageNotFound;","import React from \"react\";\r\nimport MoviesCard from '../Movies/MoviesCard/MovieCard';\r\nimport SearchForm from '../Movies/SearchForm/SearchForm'\r\nimport Preloader from '../Movies/Prelodaer/Preloader'\r\nimport Header from \"../Header/Header\"\r\nimport Footer from \"../Footer/Footer\"\r\n\r\n  function SavedMovies(props) {\r\n\r\n    const movies  = props.savedMovies;\r\n\r\n    const isSavedMoviesLoad = false;\r\n  \r\n      return (\r\n        <>\r\n          <Header \r\n            loggedIn = {props.loggedIn}\r\n            onNavIconClick={props.onNavIconClick}\r\n          />\r\n          <SearchForm />\r\n          <Preloader \r\n            isLoad = {isSavedMoviesLoad}\r\n          />\r\n            <ul className=\"movie-card-list\">\r\n            {movies.map((movie) => (\r\n                      <MoviesCard \r\n                        key={movie._id}\r\n                        movie={movie}\r\n                        onDelIconClick={props.onDelIconClick}\r\n                      >\r\n                      </MoviesCard>\t\r\n            ))}\r\n    \t    </ul>\r\n            <section className='movies__still'>             \r\n            </section>\r\n            <Footer />\r\n        </>\r\n      );\r\n    }\r\n    \r\n    export default SavedMovies;","import React from \"react\";\r\nimport Header from \"../Header/Header\"\r\n  \r\n  function Profile(props) {\r\n\r\n    const {\r\n        user\r\n    } = props;\r\n  \r\n    function onExit(e) {\r\n      e.preventDefault();\r\n      props.onExitClick();\r\n    }\r\n      return (\r\n      <>\r\n        <Header \r\n            loggedIn = {props.loggedIn}\r\n            onNavIconClick={props.onNavIconClick}\r\n          />\r\n        <section className='profile'>\r\n            <p className='profile__title'>Привет, {user.name}!</p>\r\n            <ul className='profile__data'>\r\n                <li className='profile__table-row'>\r\n                    <p className='profile__placeholder'>Имя</p>\r\n                    <p className='profile__info'>{user.name}</p>\r\n                </li>\r\n                <li className='profile__table-row'>\r\n                    <p className='profile__placeholder'>E-mail</p>\r\n                    <p className='profile__info'>{user.email}</p>\r\n                </li>\r\n            </ul>\r\n            <ul className='profile__buttons-list'>\r\n                <li><button className='profile__button hover' onClick={props.onEditProfileClick}>Редактировать</button></li>\r\n                <li><a href='/' onClick={onExit} className='profile__button profile__button_out hover'>Выйти из аккаунта</a></li>\r\n            </ul>\r\n        </section>\r\n      </>\r\n      );\r\n    }\r\n    \r\n    export default Profile;","import React, { useState, useEffect } from 'react';\r\n\r\nconst useValidation = (value, validations) => {\r\n    const [isEmpty, setIsEmpty] = useState(true);\r\n    const [minLengthErr, setMinLengthErr] = useState(true);\r\n    const [maxLengthErr, setMaxLengthErr] = useState(true);\r\n    const [emailError, setEmailError] = useState(true);\r\n    const [nameError, setNameError] = useState(true);\r\n    const [passwordError, setPasswordError] = useState(true);\r\n    const [inputValid, setInputValid] = useState(false)\r\n  \r\n    useEffect(()=> {\r\n      for (const validation in validations) {\r\n        switch (validation) {\r\n          case 'minLength':\r\n            value.length < validations[validation]  ? setMinLengthErr(true) : setMinLengthErr(false);\r\n            break;\r\n          case 'maxLength':\r\n            value.length > validations[validation]  ? setMaxLengthErr(true) : setMaxLengthErr(false);\r\n            break;\r\n          case 'isEmpty':\r\n              value ? setIsEmpty(false) : setIsEmpty(true);\r\n            break;\r\n          case 'isEmail':\r\n              // eslint-disable-next-line\r\n            const emailRex = /^((([0-9A-Za-z]{1}[-0-9A-z\\.]{1,}[0-9A-Za-z]{1})|([0-9А-Яа-я]{1}[-0-9А-я\\.]{1,}[0-9А-Яа-я]{1}))@([-A-Za-z]{1,}\\.){1,2}[-A-Za-z]{2,})$/u;\r\n            (emailRex.test(value)) ? setEmailError(false) : setEmailError(true);\r\n            break;\r\n            case 'isName':\r\n              const nameRex = /^([a-z\\-A-Zа-яА-Я\\s]{2,40})/gmi;\r\n              (nameRex.test(value)) ? setNameError(false) : setNameError(true);\r\n              break;\r\n              case 'isPassword':\r\n                const passwordRex = /(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/g;\r\n                (passwordRex.test(value)) ? setPasswordError(false) : setPasswordError(true);\r\n                break;\r\n          default:\r\n              /* code */\r\n              break;\r\n        }\r\n      }\r\n    }, [value, validations])\r\n\r\n    useEffect(() => {\r\n        if (isEmpty || (minLengthErr && maxLengthErr) || (emailError && nameError && passwordError)) {\r\n            setInputValid(false);\r\n\r\n        } else  {\r\n            setInputValid(true);\r\n        }\r\n      }, [isEmpty, maxLengthErr, minLengthErr, passwordError, emailError, nameError])\r\n  \r\n    return {\r\n      isEmpty,\r\n      minLengthErr,\r\n      maxLengthErr,\r\n      emailError,\r\n      nameError,\r\n      passwordError,\r\n      inputValid\r\n    }\r\n  }\r\n  \r\n export default function useInput(val, validations) {\r\n    const [value, setValue] = React.useState(val);\r\n    const [isDirty, setDirty] = React.useState(false);\r\n    const [isChanged, setChanged] = React.useState(false);\r\n    const valid = useValidation(value, validations)\r\n  \r\n    const onChange = (e) => {\r\n      setValue(e.target.value);\r\n      setChanged(true);\r\n    }\r\n  \r\n    const onBlur = (e) => {\r\n      setDirty(true);\r\n    }\r\n  \r\n    return {\r\n      value,\r\n      onChange,\r\n      isChanged,\r\n      onBlur,\r\n      isDirty,\r\n      ...valid\r\n    }\r\n  }","import React from 'react';\r\nimport useInput from '../../utils/Validate';\r\nimport Preloader from '../Movies/Prelodaer/Preloader';\r\n\r\nfunction PopupWithForm(props) {  \r\n\r\n  const emailVal = useInput('', {isEmpty : true, minLength: 6, maxLength: 40, isEmail: true})\r\n  const nameVal = useInput('', {isEmpty : true, minLength: 2, maxLength: 40 , isName: true,})\r\n    \r\n    const [name, setName] = React.useState('');\r\n    const [email, setEmail] = React.useState('');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n        nameVal.onChange(e);\r\n      }\r\n\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n        emailVal.onChange(e);\r\n      }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n      \r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n          name,\r\n          email,\r\n        });\r\n      } \r\n\r\n\t\treturn (\r\n      <>\r\n      <Preloader \r\n        isLoad = {props.isLoad}\r\n      />\r\n      <section className={`popup popup-${props.name} ${props.isOpen ? 'popup_is-opened' : ''}`} tabIndex=\"0\">\r\n\t\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t\t<button type=\"button\" className=\"popup__close button-hover\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n                    <h3 className=\"popup__form-title\">{props.title}</h3>\r\n\t\t\t\t\t<form className={`form form-${props.name}`} name={`profile-${props.name}-form`} method=\"post\" noValidate onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<input \r\n              type=\"text\" \r\n              placeholder={props.user.name  || 'Имя'} \r\n              name=\"userName\" \r\n              onChange={handleNameChange} \r\n              id=\"name-input\" \r\n              className=\"form__input form__input_name form__input_type_focus\" \r\n              required \r\n              minLength=\"2\"\r\n              maxLength=\"40\"\r\n              onBlur={e => nameVal.onBlur(e)}\r\n            />\r\n            {(nameVal.isDirty && (nameVal.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n            {(nameVal.isChanged && (nameVal.minLengthErr || nameVal.maxLengthErr || nameVal.nameError)) && <p className='error__mes'>Поле должно содержать только латиницу, кириллицу, пробел или дефис</p>}\r\n\t\t\t  \t\t<span id=\"name-input-error\" className=\"form__input-error\"></span>\r\n\t\t\t  \t\t<input \r\n              type=\"email\" \r\n              placeholder={props.user.email || 'Email'}\r\n              onChange={handleEmailChange} \r\n              name=\"userEmail\" id=\"email-input\"\r\n              className=\"form__input form__input_email form__input_type_focus\"\r\n              required\r\n              minLength=\"6\"\r\n              maxLength=\"40\" \r\n              onBlur={e => emailVal.onBlur(e)}\r\n            />\r\n            {(emailVal.isDirty && (emailVal.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n            {(emailVal.isChanged && (emailVal.minLengthErr || emailVal.maxLengthErr || emailVal.emailError)) && <p className='error__mes'>Не верный формат электронной почты</p>}\r\n\t\t\t \t\t\t<span id=\"job-input-error\" className=\"form__input-error\"></span>\r\n             {(props.user.email === email || props.user.name === name) ? (<p className='error__mes'>Введенные данные не отличаются от первоначальных</p>):('')}\r\n\t\t\t\t\t\t<button \r\n              type=\"submit\" \r\n              className={((nameVal.inputValid && emailVal.inputValid) && !(props.user.email === email || props.user.name === name)) ? \"form__submit\" : \"form__submit form__submit_disabled\"}\r\n              aria-label=\"Сохранить\"\r\n              disabled={(!(nameVal.inputValid && emailVal.inputValid)) || (props.user.email === email || props.user.name === name)}\r\n            >\r\n              Сохранить\r\n            </button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n      </>\r\n\t\t);\r\n\t\r\n  }\r\n \r\n  export default PopupWithForm;","import React from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport logo from '../../images/logo.svg';\r\n  \r\n  function Logon(props) {\r\n\r\n    function handleSubmitForm(e) {\r\n      e.preventDefault();\r\n      props.onSubmitForm();\r\n    } \r\n\r\n    const history = useHistory();\r\n\r\n    function logoClick(e) {\r\n    e.preventDefault();\r\n    history.push('/')\r\n  }\r\n      return (\r\n        <section className='logon'>\r\n            <div className='logon__header'>\r\n                <a href='/' onClick={logoClick}><img src={logo} alt='Логотип'/></a>\r\n                <p className='logon__title'>\r\n                  {(props.route === 'signin') ? 'Рады видеть!' : 'Добро пожаловать!'}\r\n                </p>\r\n            </div>\r\n            <form className='logon__form' onSubmit={handleSubmitForm}>\r\n              {props.children}\r\n              {(props.route === 'signin') ? (\r\n                <div className='logon__submit-box'>\r\n                  {props.isReqErr ? (<p className='error__mes'>{props.errMessage}</p>) : ('')}\r\n                  <button className={props.isFormValid ? 'logon__sumbit hover' : 'logon__sumbit logon__sumbit_disabled'} disabled={!props.isFormValid}>Войти</button>\r\n                  <p className='logon__text'>Ещё не зарегистрированы? <a href='/signon' className='logon__link'>Регистрация</a></p>\r\n                </div>\r\n                ) : (\r\n                <div className='logon__submit-box'>\r\n                  {props.isReqErr ? (<p className='error__mes'>{props.errMessage}</p>) : ('')}\r\n                  \r\n                  <button className={props.isFormValid ? 'logon__sumbit hover' : 'logon__sumbit logon__sumbit_disabled'} disabled={!props.isFormValid}>Зарегистрироваться</button>\r\n                \r\n                  <p className='logon__text'>Уже зарегистрированы? <a href='/signin' className='logon__link'>Войти</a></p>\r\n                </div>\r\n                )}\r\n            </form>\r\n        </section>\r\n      );\r\n    }\r\n    \r\n    export default Logon;","import React from \"react\";\r\nimport Logon from '../Logon/Logon'\r\nimport Preloader from \"../Movies/Prelodaer/Preloader\";\r\nimport useInput from \"./../../utils/Validate\";\r\n  \r\n  function Login(props) {\r\n\r\n    const email = useInput('', {isEmpty : true, minLength: 6, maxLength: 40, isEmail: true})\r\n    const password = useInput('', {isEmpty : true, minLength: 6, maxLength: 12, isPassword: true})    \r\n\r\n    function onSubmit() {\r\n      props.onSubmitForm(email.value, password.value);\r\n    }\r\n\r\n      return (\r\n      <>\r\n        <Logon \r\n            route='signin'\r\n            isFormValid={password.inputValid && email.inputValid}\r\n            onSubmitForm = {onSubmit}\r\n            errMessage = {props.errMessage}\r\n            isReqErr={props.isReqErr}\r\n        >\r\n            <label>\r\n              <p className='logon__input-placeholder'>Email</p>\r\n              <input\r\n                value={email.value}\r\n                type='email' \r\n                required \r\n                name='email' \r\n                className='logon__input'\r\n                minLength=\"6\" \r\n                maxLength=\"40\"\r\n                autoComplete=\"username\"\r\n                onChange={e => email.onChange(e)}\r\n                onBlur={e => email.onBlur(e)}\r\n                ></input>\r\n                {(email.isDirty && (email.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n                {(email.isChanged && (email.minLengthErr || email.maxLengthErr || email.emailError)) && <p className='error__mes'>Не верный формат электронной почты</p>}\r\n            </label>\r\n            <label>\r\n              <p className='logon__input-placeholder'>Пароль</p>\r\n              <input \r\n                value={password.value}\r\n                type='password' \r\n                required \r\n                name='password' \r\n                className='logon__input'\r\n                minLength=\"6\" \r\n                maxLength=\"40\"\r\n                autoComplete=\"current-password\"\r\n                onChange={e => password.onChange(e)}\r\n                onBlur={e => password.onBlur(e)}\r\n              ></input>\r\n              {(password.isDirty && (password.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n                {(password.isChanged && (password.minLengthErr || password.maxLengthErr || password.passwordError)) && <p className='error__mes'>Пароль должен состоять от 6 до 20 латинских символов в верхнем и нижнем регистре а так же содержать спец символы !@#$%^&*</p>}\r\n            </label>\r\n        </Logon>\r\n        <Preloader \r\n        isLoad = {props.isLoad}\r\n        />\r\n      </>\r\n      );\r\n    }\r\n    \r\n    export default Login;","import React from \"react\";\r\nimport Logon from '../Logon/Logon'\r\nimport Preloader from \"../Movies/Prelodaer/Preloader\";\r\nimport useInput from \"./../../utils/Validate\"\r\n  \r\n  function Register(props) {\r\n;\r\n\r\n    const email = useInput('', {isEmpty : true, minLength: 6, maxLength: 40, isEmail: true})\r\n    const name = useInput('', {isEmpty : true, minLength: 2, maxLength: 40 , isName: true,})\r\n    const password = useInput('', {isEmpty : true, minLength: 6, maxLength: 12, isPassword: true})\r\n\r\n    function onSubmit() {\r\n      props.onSubmitForm(name.value, email.value, password.value);\r\n    }\r\n\r\n      return (\r\n        <>\r\n        <Logon\r\n            route='signon'\r\n            isFormValid={name.inputValid && password.inputValid && email.inputValid}\r\n            onSubmitForm = {onSubmit}\r\n            errMessage = {props.errMessage}\r\n            isReqErr={props.isReqErr}\r\n        >\r\n            <label>\r\n                <p className='logon__input-placeholder'>Имя</p>\r\n                <input\r\n                  value = {name.value}\r\n                  type='text'\r\n                  required\r\n                  name='name'\r\n                  className='logon__input'\r\n                  minLength=\"2\"\r\n                  maxLength=\"40\"\r\n                  onChange={e => name.onChange(e)}\r\n                  onBlur={e => name.onBlur(e)}\r\n                ></input>\r\n                {(name.isDirty && (name.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n                {(name.isChanged && (name.minLengthErr || name.maxLengthErr || name.nameError)) && <p className='error__mes'>Поле должно содержать только латиницу, кириллицу, пробел или дефис</p>}\r\n              </label>\r\n              <label>\r\n                <p className='logon__input-placeholder'>Email</p>\r\n                <input \r\n                  type='email'\r\n                  value={email.value}\r\n                  required\r\n                  name='email'\r\n                  className='logon__input'\r\n                  minLength=\"6\"\r\n                  maxLength=\"40\"\r\n                  onChange={e => email.onChange(e)}\r\n                  onBlur={e => email.onBlur(e)}\r\n                ></input>\r\n                {(email.isDirty && (email.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n                {(email.isChanged && (email.minLengthErr || email.maxLengthErr || email.emailError)) && <p className='error__mes'>Не верный формат электронной почты</p>}\r\n              </label>\r\n              <label>\r\n                <p className='logon__input-placeholder'>Пароль</p>\r\n                <input\r\n                  value={password.value}\r\n                  type='password' \r\n                  autoComplete=\"on\"\r\n                  required\r\n                  className='logon__input'\r\n                  name='password'\r\n                  minLength=\"6\"\r\n                  maxLength=\"20\"\r\n                  onChange={e => password.onChange(e)}\r\n                  onBlur={e => password.onBlur(e)}\r\n                ></input>\r\n                {(password.isDirty && (password.isEmpty )) && <p className='error__mes'>Поле пустое</p>}\r\n                {(password.isChanged && (password.minLengthErr || password.maxLengthErr || password.passwordError)) && <p className='error__mes'>Пароль должен состоять от 6 до 20 латинских символов в верхнем и нижнем регистре а так же содержать спец символы !@#$%^&*</p>}\r\n              </label>\r\n        </Logon>\r\n        <Preloader \r\n        isLoad = {props.isLoad}\r\n        />\r\n      </>\r\n      );\r\n    }\r\n    \r\n    export default Register;","import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport accLogo from '../../images/account.svg';\r\n\r\n  \r\n  function PopupNavigation(props) {\r\n\r\n      return (\r\n        <section className={`popup__nav ${props.isOpen ? 'popup__nav_is-opened' : ''}`}>\r\n            <div className='popup__nav-section'>\r\n                <button type='button' aria-label=\"Закрыть\" className=\"popup-nav__close hover\" alt=\"логотип\" onClick={props.onClose}></button>\r\n                <div className=\"popup-nav__menu\">\r\n                    <NavLink to=\"/\" className=\"popup-nav__link hover\" activeClassName=\"active__popup-nav-link\" exact={true} onClick={props.onClose}>Главная</NavLink>\r\n                    <NavLink to=\"/movies\" className=\"popup-nav__link hover\" activeClassName=\"active__popup-nav-link\" onClick={props.onClose}>Фильмы</NavLink>\r\n                    <NavLink to=\"/saved-movies\" className=\"popup-nav__link hover\" activeClassName=\"active__popup-nav-link\" onClick={props.onClose}>Сохраненные фильмы</NavLink>\r\n                </div>\r\n                <NavLink to=\"/profile\" className=\"popup-nav__link header__account popup__account-link hover\" activeClassName=\"active__profile-link\" onClick={props.onClose}>\r\n                    <p className='header__account-link'>Аккаунт</p>\r\n                    <img src={accLogo} alt='иконка аккаунта' className='header__account-icon'/>\r\n                </NavLink>\r\n            </div>\r\n       </section>\r\n      );\r\n    }\r\n    \r\n    export default PopupNavigation;","export class Api {\r\n    constructor( {baseUrl, headers} ) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n\r\n    _requestGet(url) {\r\n        this._data = fetch(url, {\r\n            mathod: \"GET\",\r\n            headers: this._headers\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                  }\r\n                return Promise.reject(`${res.status}. Не удалось сделать GET запрос по адресу ${url}`);\r\n            })\r\n        return this._data;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return this._requestGet(`${this._baseUrl}`);\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.nomoreparties.co/beatfilm-movies/',\r\n  });\r\n\r\nexport default api;","export class Api {\r\n    constructor( {baseUrl, headers} ) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n\r\n    _requestGet(url) {\r\n        this._data = fetch(url, {\r\n            mathod: \"GET\",\r\n            headers: this._headers\r\n            })\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    return res;\r\n                  }\r\n                return Promise.reject(`${res.status}. Не удалось сделать GET запрос по адресу ${url}`);\r\n            })\r\n        return this._data;\r\n    }\r\n\r\n    register(name, email, password){\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({ 'name': name, 'email': email, 'password': password }),\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    login(email, password){\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({ 'email': email, 'password': password }),\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    checkToken(jwt){\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'authorization':`Bearer ${jwt}`,\r\n            },\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    udateUserData(name, email){\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'authorization':`Bearer ${localStorage.getItem('jwt')}`,\r\n            },\r\n            body: JSON.stringify({ name, email }),\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    saveMovie(movie){\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'authorization':`Bearer ${localStorage.getItem('jwt')}`,\r\n            },\r\n            body: JSON.stringify({\r\n                country: movie.country,\r\n                director: movie.director,\r\n                duration: movie.duration,\r\n                year: movie.year,\r\n                description: movie.description,\r\n                image: `https://api.nomoreparties.co${movie.image.url}`,\r\n                trailer: movie.trailerLink,\r\n                movieId: movie.id,\r\n                nameRU: movie.nameRU,\r\n                nameEN: movie.nameEN,\r\n                thumbnail: `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`,\r\n            }),\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    getMovies(){\r\n        return fetch(`${this._baseUrl}/movies`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'authorization':`Bearer ${localStorage.getItem('jwt')}`,\r\n            },\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    deleteSavedMovie(movieId){\r\n        return fetch(`${this._baseUrl}/movies/${movieId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                'authorization':`Bearer ${localStorage.getItem('jwt')}`,\r\n            },\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n              }\r\n            return Promise.reject(res.status);\r\n        })\r\n    }\r\n\r\n    \r\n    \r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.dipback.nomoredomains.monster',\r\n     headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\" : `Bearer ${localStorage.getItem('jwt')}`\r\n        }\r\n  });\r\n\r\nexport default api;","import React, {useEffect} from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute'\r\nimport Main from '../Main/Main';\r\nimport Movies from '../Movies/Movies';\r\nimport PageNotFound from '../PageNotFound/PageNotFound';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport Login from '../Login/Login';\r\nimport Register from '../Register/Register';\r\nimport PopupNavigaton from '../PopupNavigation/PopupNavigation';\r\nimport api from '../../utils/MoviesApi'\r\nimport apiMain from '../../utils/MainApi'\r\nimport Preloader from '../Movies/Prelodaer/Preloader';\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n  const [isLoad, setIsLoad] = React.useState(false);\r\n  const [isSearchErr, setIsSearchErr] = React.useState(false);\r\n  const [movies, setMovies] = React.useState(['']);\r\n  const [savedMovies, setSavedMovies] = React.useState([]);\r\n  const [isSearchShortMovies, setIsSearchShortMovies] = React.useState(false);\r\n  const [isReqErr, setIsReqErr] = React.useState(false);\r\n  const [errMessage, setErrMassage] = React.useState('Что то пошло не так...');\r\n  const [currentUser, setCurrentUser] = React.useState({ name: '', email: '' });\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isEditProfilePopupOpen, toggleEditProfilePopup] = React.useState(false);\r\n  const [isNavPopupOpen, toggleNavPopup] = React.useState(false);\r\n\r\n  function toggleIsShortMovies() {\r\n    if (isSearchShortMovies) {\r\n      setIsSearchShortMovies(false)\r\n    } else {\r\n      setIsSearchShortMovies(true)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      apiMain.checkToken(localStorage.getItem('jwt'))\r\n            .then((res) => {\r\n                setCurrentUser({\r\n                  ...currentUser,\r\n                  name: res.name,\r\n                  email: res.email\r\n                })\r\n                setLoggedIn(true);\r\n            })\r\n            .catch((err) => {\r\n                setLoggedIn(false);\r\n                localStorage.clear();\r\n                history.push('/');\r\n                console.log(err);\r\n            });\r\n      setMovies(JSON.parse(localStorage.getItem('movies')));\r\n      setSavedMovies(JSON.parse(localStorage.getItem('savedMovies')));\r\n    }\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  if (loggedIn && (localStorage.getItem('savedMovies') === null)) {\r\n    apiMain.getMovies()\r\n          .then((res) => {\r\n            setSavedMovies(res.movie)\r\n            localStorage.setItem('savedMovies', JSON.stringify(res.movie));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n  }\r\n}, [loggedIn, savedMovies]);\r\n  \r\n  function handleSearch() {\r\n    if (localStorage.getItem('allMovies') === null) {\r\n      setIsLoad(true);\r\n      Promise.all([\r\n        api.getInitialCards()\r\n      ])\r\n      .then((response) => {\r\n        localStorage.setItem('allMovies', JSON.stringify(response[0]))\r\n        let filterReq =  JSON.parse(localStorage.getItem('allMovies')).filter(function(movie) {\r\n          return ((movie.nameRU.toLowerCase().includes(localStorage.getItem('userReq').toLowerCase())) && (isSearchShortMovies ? movie.duration < 40 : ' '));\r\n          });\r\n        localStorage.setItem('movies', JSON.stringify(filterReq));\r\n        setMovies(filterReq);\r\n      })\r\n      .finally(() => {\r\n        setIsLoad(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsSearchErr(true);\r\n      });\r\n    } else {\r\n      let filterReq =  JSON.parse(localStorage.getItem('allMovies')).filter(function(movie) {\r\n        return ((movie.nameRU.toLowerCase().includes(localStorage.getItem('userReq').toLowerCase())) && (isSearchShortMovies ? movie.duration < 40 : ' '));\r\n        });\r\n      localStorage.setItem('movies', JSON.stringify(filterReq));\r\n      setMovies(filterReq)\r\n    }\r\n\t}\r\n\r\n  function handleNavIconClick() {\r\n    toggleNavPopup(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    toggleEditProfilePopup(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n\t\ttoggleEditProfilePopup(false);\r\n    toggleNavPopup(false);\r\n\t}\r\n\r\n  function  handleUpdateUser(data) {\r\n\r\n    setIsLoad(true);\r\n    Promise.all([\r\n      apiMain.udateUserData(data.name, data.email)\r\n    ])\r\n    .then((res) => {\r\n      setCurrentUser({\r\n        ...currentUser,\r\n        name: res[0].user.name,\r\n        email: res[0].user.email,\r\n      });\r\n    })\r\n    .finally(() => {\r\n      setIsLoad(false);\r\n      // Сбрасываю значения стейтов при успешном запросе\r\n      setIsReqErr(false);\r\n      setErrMassage('Что то пошло не так...')\r\n    })\r\n    .catch((err) => {\r\n      if (err===400) {\r\n        setErrMassage('Проверьте введенные данные')\r\n      }\r\n      setIsReqErr(true);\r\n    });\r\n    closeAllPopups();\r\n\t}\r\n\r\n  function hendleSignOn(name, email, password) {\r\n    setIsLoad(true);\r\n    Promise.all([\r\n      apiMain.register(name, email, password)\r\n    ])\r\n    .then(() => {\r\n      history.push('/signin');\r\n    })\r\n    .finally(() => {\r\n      setIsLoad(false);\r\n      // Сбрасываю значения стейтов при успешном запросе\r\n      setIsReqErr(false);\r\n      setErrMassage('Что то пошло не так...')\r\n    })\r\n    .catch((err) => {\r\n      if (err===400) {\r\n        setErrMassage('Проверьте введенные данные')\r\n      } else if (err===409) {\r\n        setErrMassage('Пользователь существует')\r\n      }\r\n      setIsReqErr(true);\r\n    });\r\n  }\r\n\r\n  function hendleLogin(email, password) {\r\n    setIsLoad(true);\r\n    Promise.all([\r\n      apiMain.login(email, password)\r\n    ])\r\n    .then((res) => {\r\n      setLoggedIn(true);\r\n      localStorage.setItem('jwt', res[0].token)\r\n      history.push('/movies');\r\n    })\r\n    .finally(() => {\r\n      setIsLoad(false);\r\n      // Сбрасываю значения стейтов при успешном запросе\r\n      setIsReqErr(false);\r\n      setErrMassage('Что то пошло не так...')\r\n    })\r\n    .catch((err) => {\r\n      setIsReqErr(true);\r\n      console.log(err);\r\n      if (err===401) {\r\n        setErrMassage('Не верный логин или пароль')\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleExit() {\r\n    localStorage.clear();\r\n    setLoggedIn(false);\r\n    history.push('/');\r\n  }\r\n\r\n  function handleSaveMovie(movie) {\r\n    setIsLoad(true);\r\n    Promise.all([\r\n      apiMain.saveMovie(movie)\r\n    ])\r\n    .then((res) => {\r\n      apiMain.getMovies()\r\n          .then((res) => {\r\n            setSavedMovies(res.movie)\r\n            localStorage.setItem('savedMovies', JSON.stringify(res.movie));\r\n            setMovies(JSON.parse(localStorage.getItem('movies')))\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n    })\r\n    .finally(() => {\r\n      setIsLoad(false);\r\n      // Сбрасываю значения стейтов при успешном запросе\r\n      setIsReqErr(false);\r\n      setErrMassage('Что то пошло не так...')\r\n    })\r\n    .catch((err) => {\r\n      setIsReqErr(true);\r\n      console.log(err);\r\n      if (err===401) {\r\n        setErrMassage('Не верный логин или пароль')\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleDeleteMovie(movieId) {\r\n    setIsLoad(true);\r\n    Promise.all([\r\n      apiMain.deleteSavedMovie(movieId)\r\n    ])\r\n    .then((res) => {;\r\n      apiMain.getMovies()\r\n          .then((res) => {\r\n            setSavedMovies(res.movie)\r\n            localStorage.setItem('savedMovies', JSON.stringify(res.movie));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n    })\r\n    .finally(() => {\r\n      setIsLoad(false);\r\n      // Сбрасываю значения стейтов при успешном запросе\r\n      setIsReqErr(false);\r\n      setErrMassage('Что то пошло не так...')\r\n    })\r\n    .catch((err) => {\r\n      setIsReqErr(true);\r\n      console.log(err);\r\n      if (err===401) {\r\n        setErrMassage('Не верный логин или пароль')\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <Switch>\r\n      <Route exact path=\"/\">\r\n          <Main \r\n            loggedIn={loggedIn}\r\n            onNavIconClick={handleNavIconClick}\r\n          />\r\n        </Route>\r\n        <ProtectedRoute \r\n           exact path=\"/movies\"\r\n           loggedIn={loggedIn}\r\n           component={Movies}\r\n           onNavIconClick={handleNavIconClick}\r\n           onSearch={handleSearch}\r\n           isLoad={isLoad}\r\n           isSearchErr={isSearchErr}\r\n           onShortMoviesClick = {toggleIsShortMovies}\r\n           onSaveIconClick={handleSaveMovie}\r\n           onDelIconClick={handleDeleteMovie}\r\n           movies = {movies}\r\n        />\r\n        <ProtectedRoute \r\n           exact path=\"/saved-movies\"\r\n           loggedIn={loggedIn}\r\n           component={SavedMovies}\r\n           onNavIconClick={handleNavIconClick}\r\n           onDelIconClick={handleDeleteMovie}\r\n           savedMovies={savedMovies}\r\n           \r\n        />\r\n        <ProtectedRoute \r\n           exact path=\"/profile\"\r\n           loggedIn={loggedIn}\r\n           component={Profile}\r\n           onNavIconClick={handleNavIconClick}\r\n           user={currentUser}\r\n           onEditProfileClick={handleEditProfileClick}\r\n           onExitClick={handleExit}\r\n           isLoad={isLoad}\r\n        />\r\n        <Route path=\"/signin\">\r\n          <Login \r\n            onSubmitForm = {hendleLogin}\r\n            isLoad={isLoad}\r\n            errMessage={errMessage}\r\n            isReqErr={isReqErr}\r\n          />\r\n        </Route>\r\n        <Route path=\"/signon\">\r\n          <Register \r\n            onSubmitForm = {hendleSignOn}\r\n            isLoad={isLoad}\r\n            errMessage={errMessage}\r\n            isReqErr={isReqErr}\r\n          />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <PageNotFound />\r\n        </Route>\r\n      </Switch>\r\n      \r\n      <PopupNavigaton \r\n          isOpen={isNavPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n      <PopupWithForm \r\n        title ='Редактировать профиль'\r\n        name = 'edit'\r\n        user={currentUser}\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n        isLoad={isLoad}\r\n        />\r\n      <Preloader\r\n      >\r\n        isLoad={isLoad}\r\n      </Preloader>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}